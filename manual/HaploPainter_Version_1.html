<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
		PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<link href="../home/hp.css" rel="stylesheet" type="text/css"/>
<link href="../home/hp.ico" rel="icon" type="image/x-icon"/>
<title>HaploPainter Version 1</title>
<style>
<!--
body {
	font-size:12.0pt;
	font-family:Arial;
	width:96em;
}
/* Style Definitions */
h1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:Arial;
	font-weight:bold;
	clear:both;}
h2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:Arial;
	font-weight:bold;
	font-style:italic;
	clear:both;}
h3
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:Arial;
	font-weight:bold;
	clear:both;}
h4
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:Arial;
	font-weight:bold;
	clear:both;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:Arial;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:12.0pt;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:Arial;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:24.0pt;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:Arial;}
a:link
	{color:blue;
	text-decoration:underline;}
a:visited
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0cm;
	margin-left:0cm;
	text-align:justify;
	clear:both;}
/* List Definitions */
ol
	{margin-top:0cm;
	margin-bottom:0cm;}
ul
	{margin-top:0cm;
	margin-bottom:0cm;}
figure
	{float:left;
	text-align:center;}

figcaption
	{font-size:10.0pt;
	font-weight:bold;
	text-align:center;}
table
	{border-collapse:collapse;
	border:none;}
td
	{padding:0cm 6pt 0cm 6pt;
	vertical-align:top;}
tr, td
	{border:none;
	border-bottom:solid black 1.0pt;
	}
tr:first-child td
	{border-top:solid black 1.5pt;
	border-left:none;
	border-bottom:solid black 1.0pt;
	border-right:none;}
tr:last-child td
	{border:none;
	border-bottom:solid black 1.5pt;}
-->
</style>
</head>
<body>
		<div id="container">
			<div id="header"><a href="../home/index.html"><img src="../home/hp-logo.png" alt="haplopainter-logo"/></a></div>
			<div id="menu">
				<table>
					<tr>
						<td><a href="../home/index.html">Home</a></td>
						<td><a href="../home/about.html">About</a></td>
						<td><a href="HaploPainter_Version_1.html" class="current">Manual</a></td>
						<td><a href="../screenshots/screenshots.html">Screenshots</a></td>
						<td><a href="../examples/pedigrees.html">Pedigrees</a></td>
						<td><a href="../home/links.html">Links</a></td>
					</tr>
				</table>
			</div>
			<div id="content">

<h1>HaploPainter Online Manual</h1>

<h2>Version 1.0</h2>

<h2>Index</h2>

<p class="MsoToc1"><a href="#_Toc211847756">How to start</a></p>

<p class="MsoToc1"><a href="#_Toc211847757">Algorithms, best practice and limitations</a></p>

<p class="MsoToc1"><a href="#_Toc211847758">Installation</a></p>

<p class="MsoToc2"><a href="#_Toc211847759">Execute from source files &ndash; Windows</a></p>

<p class="MsoToc3"><a href="#_Toc211847760">Installing Perl</a></p>

<p class="MsoToc3"><a href="#_Toc211847761">Installing GTK+ runtime libraries</a></p>

<p class="MsoToc3"><a href="#_Toc211847762">Installing compulsory missing Perl modules</a></p>

<p class="MsoToc3"><a href="#_Toc211847763">Installing optional missing Perl modules for database support</a></p>

<p class="MsoToc2"><a href="#_Toc211847764">Other Systems</a></p>

<p class="MsoToc1"><a href="#_Toc211847765">Data Import</a></p>

<p class="MsoToc2"><a href="#_Toc211847766">Import Pedigrees</a></p>

<p class="MsoToc3"><a href="#_Toc211847767">LINKAGE</a></p>

<p class="MsoToc3"><a href="#_Toc211847768">CSV</a></p>

<p class="MsoToc3"><a href="#_Toc211847769">Database</a></p>

<p class="MsoToc2"><a href="#_Toc211847770">Import Haplotypes</a></p>

<p class="MsoToc3"><a href="#_Toc211847771">Some tips for interpreting haplotypes</a></p>

<p class="MsoToc2"><a href="#_Toc211847772">Import marker maps</a></p>

<p class="MsoToc1"><a href="#_Toc211847773">Data Export and Publishing Tips</a></p>

<p class="MsoToc2"><a href="#_Toc211847774">Vector describing formats</a></p>

<p class="MsoToc3"><a href="#_Toc211847775">SVG</a></p>

<p class="MsoToc3"><a href="#_Toc211847776">PostScript</a></p>

<p class="MsoToc3"><a href="#_Toc211847777">PDF</a></p>

<p class="MsoToc2"><a href="#_Toc211847778">Pixel formats</a></p>

<p class="MsoToc3"><a href="#_Toc211847779">PNG</a></p>

<p class="MsoToc2"><a href="#_Toc211847780">Flat file</a></p>

<p class="MsoToc3"><a href="#_Toc211847781">CSV</a></p>

<p class="MsoToc1"><a href="#_Toc211847782">Encoding and Unicode support</a></p>

<p class="MsoToc1"><a href="#_Toc211847783">Working with Pedigrees</a></p>

<p class="MsoToc2"><a href="#_Toc211847784">Navigation</a></p>

<p class="MsoToc2"><a href="#_Toc211847785">Building and extending pedigrees with the graphical user interface</a></p>

<p class="MsoToc3"><a href="#_Toc211847786">New Pedigrees</a></p>

<p class="MsoToc3"><a href="#_Toc211847787">Delete Individuals</a></p>

<p class="MsoToc3"><a href="#_Toc211847788">Add Siblings</a></p>

<p class="MsoToc3"><a href="#_Toc211847789">Add Parents</a></p>

<p class="MsoToc3"><a href="#_Toc211847790">Add Mate &amp; Offspring</a></p>

<p class="MsoToc3"><a href="#_Toc211847791">Consanguinity Settings</a></p>

<p class="MsoToc3"><a href="#_Toc211847792">Twin Setting</a></p>

<p class="MsoToc3"><a href="#_Toc211847793">Loop breaking</a></p>

<p class="MsoToc3"><a href="#_Toc211847794">Clear families</a></p>

<p class="MsoToc1"><a href="#_Toc211847795">The configuration menu</a></p>

<p class="MsoToc2"><a href="#_Toc211847796">Hap Style</a></p>

<p class="MsoToc2"><a href="#_Toc211847797">Hap Show</a></p>

<p class="MsoToc2"><a href="#_Toc211847798">Hap Color &amp; Font</a></p>

<p class="MsoToc2"><a href="#_Toc211847799">Hap Region</a></p>

<p class="MsoToc2"><a href="#_Toc211847800">Ped Style</a></p>

<p class="MsoToc2"><a href="#_Toc211847801">Ped Color</a></p>

<p class="MsoToc2"><a href="#_Toc211847802">Ped &amp; Case Info</a></p>

<p class="MsoToc1"><a href="#_Toc211847803">Page settings</a></p>

<p class="MsoToc1"><a href="#_Toc211847804">Show Grid</a></p>

<p class="MsoToc1"><a href="#_Toc211847805">Storing and Restoring defaults</a></p>

<p class="MsoToc1"><a href="#_Toc211847806">Command line mode</a></p>

<h1><a name="_Toc211847756">How to start</a></h1>

<p>A good way to start is to
prepare a pedigree file in linkage format. This format is very simple and can
easily be generated by any text editor. Alternatively you may prepare data in a
HaploPainter&rsquo;s specific input format (CSV) or query a database. They allow you
to import further individual specific details. After you imported one or more
pedigrees, HaploPainter will draw them &ndash; coincidental placing individuals while
minimizing line crosses.</p>

<p>During the process of pedigree
calculation HaploPainter not accepts key input. In the right part of the window
some information about the current calculation status is displayed. The example
figure below tells you that HaploPainter has finished the calculation No.12, found
5 crosses there and that the best pedigree consists of 1 cross.</p>

<figure><img width="224" height="32" src="HaploPainter_Version_1_files/image001.jpg"/></figure>

<p>If you don&rsquo;t like the result,
you always can HaploPainter let redraw the pedigree by pressing F5. The most
changes at the pedigree will be retained until you press this button.</p>

<p>In order to attach haplotype
data from other linkage programs (Merlin, Simwalk2, Genehunter, Allegro) you
can import those files after you have been loaded pedigree data. Again the
haplotype file can consist of data of more then one family. The last step would
be the import of mapping data &ndash; replacing marker names and coordinates.</p>

<p>Since version 1.0l, HaploPainter
changed the way in which imported data are handled. If you choose to import
pedigree data, HaploPainter will attach new pedigrees to existing one and
replace pedigrees with the same family identifier. Imported haplotype data are
scanned for family identifiers and are only imported if they match existing
pedigrees. Mapping data can be imported for specific families or for all
families depending of the &ldquo;Global map import&rdquo; check button.</p>

<p>HaploPainter will give you
plenty of options to modify the drawing style. You can change it in the
&ldquo;Configuration&rdquo; menu, available form the &ldquo;Option&rdquo; menu or context menu (right
mouse bottom). One of the interesting options in respect of haplotype drawing
is the ability to manually select which marker should be drawn or not. This is
very useful for &quot;long&quot; haplotypes as obtained from genome scans with
high-density marker panels of many thousands of single nucleotide polymorphisms
(SNPs), which now can be sized to a human readable length. Any part of the
haplotype can be surrounded at any individual by one ore more boxes, for
instance if you wish to draw attention to regions of interest like
recombination events.</p>

<p>If you choose &ldquo;Save&rdquo; or &ldquo;Save
as&rdquo; from the File menu, HaploPainter saves the complete current drawing status
of all families and all modifications you made after import of data. You can
restore this state by chose &ldquo;Open&rdquo; from the &ldquo;File&rdquo; Menu. The Save function
overlaps with other export functions which produce ether images (PS, PDF, PNG,
SVG) or LINKAGE like text files (CSV).</p>

<h1><a name="_Toc211847757">Algorithms, best practice and
limitations</a></h1>

<p>The problem with cross free node
placing is that even if you find an intelligent way to build on the pedigree de
novo, the calculation time for all possible combinations increases rapidly with
the number of nodes. HaploPainter is programmed in Perl &ndash; a computer language
which is not known to be the fastest, but even if you would do it in other
languages, big families would tax your patience rapidly.</p>

<p>For this reason HaploPainter
pursues a heuristic strategy. Instead of trying every possible combination, it
places individuals of a sibling group by chance for a fixed number of times. The
very first step is that HaploPainter looks for founder couples and the
generation they occur. Those founder couples again are placed by chance between
sibling groups of that generation.</p>

<p>For the most common used
pedigrees in the field of linkage this approach works well so far. While large
but loop less pedigrees make no problems, big families with many loops will
bring HaploPainter to its knees. Because of this limitation HaploPainter decides
to break all loops during import of pedigrees &ndash; if your pedigree consists of
more of three of them. You still can change this behavior later with the
&quot;Breaking loop&quot; option allowing you to decide yourself which loop
should be broken or not.</p>

<p>However, for the majority of
pedigrees HaploPainter can find cross free solutions or at least good starting
points to correct them manually with the graphical user interface. The GUI has
almost no limitations in the placement of individual nodes. Connecting lines
are still drawn automatically, so you can do it in a short time.</p>

<h1><a name="_Toc211847758">Installation</a></h1>

<p>For some systems HaploPainter is
available as perlapp generated executable. As HaploPainter depends of numerous libraries
(GTK+, Cairo and Glib) and packing of all this libraries in one file would lead
to significant increase in start time, they are outsourced and come together
with HaploPainter. The only thing to consider is to keep the libraries and
HaploPainter together or to put the libraries in the system PATH. If those executables
are not available from the download page for your system, you still could start
the program from the source code file. This is a file ending with &ldquo;<code>.pl</code>&rdquo; The
program language Perl is available for nearby all computer systems and with a
bit of knowledge, patience and expert help you can run HaploPainter from source
code files on every computer system. The procedures distinguish between systems
Â– here shown for Windows.</p>

<p>In order to connect HaploPainter
with an Oracle database you also must install the appropriate drivers or the
Oracle client. It also may be necessary to set the <code>ORACLE_HOME</code> and <code>NLS_LANG</code>
environment variables.</p>

<h2><a name="_Toc211847759">Execute from source files -
Windows</a></h2>

<h3><a name="_Toc211847760">Installing Perl</a></h3>

<p>Download and install the latest
Perl Version for Windows from ActiveState <a href="www.activestate.com">www.activestate.com</a></p>

<h3><a name="_Toc211847761">Installing GTK+ runtime libraries</a></h3>

<p>HaploPainter uses Cairo and Pango for the creation of exported image formats. All of the precompiled
libraries you will need are included in the GTK+ package. In order to use this
libraries download and install the windows all-in-one-bundle from <a href="http://www.gtk.org/">http://www.gtk.org/</a> and don&rsquo;t forget to set the
system path variable at the bin folder from GTK+ or place the Perl program
inside the bin order!</p>

<h3><a name="_Toc211847762">Installing compulsory missing Perl
modules</a></h3>

<p>Perl modules from ActiveState&rsquo;s
Perl are added via Perl Package Manager &ndash; ppm. Type the following commands into
the command console.</p>

<pre>&gt; ppm install Sort-Naturally
&gt; ppm install <a href="http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/Glib.ppd">http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/Glib.ppd</a>
&gt; ppm install <a href="http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/ExtUtils-Depends.ppd">http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/ExtUtils-Depends.ppd</a>
&gt; ppm install <a href="http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/ExtUtils-PkgConfig.ppd">http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/ExtUtils-PkgConfig.ppd</a>
&gt; ppm install <a href="http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/Cairo.ppd">http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/Cairo.ppd</a>
&gt; ppm install <a href="http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/Gtk2.ppd">http://www.lostmind.de/gtk2-perl/ppm/MSWin32-x86-multi-thread-5.8/Gtk2.ppd</a></pre>

<p>(The perl binding modules for
the GTK stuff may be available for newer versions and be stored at other
places!)</p>

<h3><a name="_Toc211847763">Installing optional missing
Perl modules for database support</a></h3>

<p>In order to use HaploPainter&rsquo;s
capabilities to query databases you must install some more modules. Without
these modules HaploPainter will start anyway, but will produce warnings when
you try to use this functionality.</p>

<pre>&gt; ppm install DBD-PgPP
&gt; ppm install DBD-mysql
&gt; ppm install DBD-Oracle</pre>

<h2><a name="_Toc211847764">Other Systems</a></h2>

<p>For other systems it could be
necessary to compile libraries yourself. Field reports are welcome!</p>

<h1><a name="_Toc211847765">Data Import</a></h1>

<p>For data import there are &ldquo;Import
Pedigree &hellip;&rdquo;, &ldquo;Import Haplotypes &hellip;&rdquo; and &ldquo;Import Map File &hellip;&rdquo; options available from
the File menu. It is the best to follow this order. Don&rsquo;t be confused with the Open
command! That&rsquo;s for the HaploPainter specific data storage. Those files become
the file extension &lsquo;<code>.hp</code>&rsquo; by default and are not human readable.</p>

<h2><a name="_Toc211847766">Import Pedigrees</a></h2>

<p>There are two kinds of text
input files that HaploPainter accepts to define pedigree structures &ndash; LINKAGE
and CSV. The CSV format is designed in a way, that the first 6 columns have
identical meaning comparing to LINKAGE format. If you start to collect pedigree
data in a database table you must prepare a table or view with the same
structure as used for CSV format. Per default HaploPainter handles text data encoded
as UTF-8. You can change it via File &rarr; Encoding. HaploPainter deals with Unicode
in a way that it looks for the byte-order mark (BOM) sequence &lsquo;U+FEFF&rsquo; at the
beginning of documents, and only if it did not found this sequence take care of
the setting. In that way it is for instance possible to read Excel sheets which
are saved as <i>Unicode Text format</i> (UTF-16LE) although the setting in
HaploPainter is different. The encoding is much important for saving/exporting
pedigrees in CSV format. In this case HaploPainter take care of it. (See also the
chapter Encoding and Unicode support)</p>

<h3><a name="_Toc211847767">LINKAGE</a></h3>

<p>Well, there are actually many
different LINKAGE pedigree files used by statistical software. The format used
here is also called pre-MAKEPED LINKAGE format.</p>

<h4><i><u>Example</u></i></h4>

<figure><img border="0" width="577" height="220" src="HaploPainter_Version_1_files/image002.gif"/></figure>

<pre><u>#FAMILY PERSON     FATHER     MOTHER     GENDER AFF_STATUS</u>
2002    1210708    1210710    1210711    0      0
2002    1210701    1210710    1210711    2      1
2002    1210700    1210710    1210711    1      2
2002    1210709    1210710    1210711    1      3
2002    1210706    1210710    1210711    2      4
2002    1210705    1210710    1210711    1      5
2002    1210704    1210710    1210711    2      6
2002    1210703    1210710    1210711    2      7
2002    1210710          0          0    1      8
2002    1210711          0          0    2      9</pre>

<p>HaploPainter is tolerant in the
definition of the exact format. Empty lines and those beginning with the signs
&lsquo;<code>#</code>&rsquo;, &lsquo;<code>!</code>&rsquo; &lsquo;<code>*</code>&rsquo; or &lsquo;<code>\</code>&rsquo; are ignored and may be used to integrate comments. HaploPainter
tries to find out the used column delimiter in a way that it first looks for
semicolons, followed by tabulators and at least other white space. Only lines
resulting in 6 or more not empty columns are further processed, and only
columns 1-6 will be taken into account. White space at the beginning and end of
all values is deleted.</p>

<h4><b><u>LINKAGE format</u></b></h4>

<table>
<tbody>
<tr>
<td><b>FAMILY</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>PERSON</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>FATHER</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>MOTHER</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>GENDER </b></td><td>not NULL, 0 or x for unknown, 1 or m for male, 2 or f for female</td>
</tr>
<tr>
<td><b>AFFECTION</b></td><td>not NULL, 0 or x, 1, 2, 3, 4, 5, 6, 7, 8, 9</td>
</tr>
</tbody>
</table>

<p>As you can see, all columns must
have defined values! The used signs x/m/f for gender and affection status also
can be in upper case. The affection status field in the originally LINKAGE
format only can hold the values 0, 1 and 2. This can be extended in
HaploPainter by up to 10 possible values. Every affection status is assigned to
a defined color with what symbols are filled later.</p>

<h3><a name="_Toc211847768">CSV</a></h3>

<p>The CSV format is influenced by
the LINKAGE format but differs in the number of possible columns and the way it
is parsed. As in LINKAGE format, empty lines and those beginning with the signs
&lsquo;<code>#</code>&rsquo;, &lsquo;<code>!</code>&rsquo; &lsquo;<code>*</code>&rsquo; or &lsquo;<code>\</code>&rsquo; are ignored and may be used to integrate comments or header
rows. Only a single tabulator sign is allowed as column separator! Columns 1-6
apply the same rules like LINKAGE format (See also there). Field values again
are case insensitive. The following figure shows the same pedigree from the
sample above but extended by HaploPainter specific columns. It illustrates many
of HaploPainters additionally features like Unicode support, twins, termination
of pregnancy symbols, deceased individuals, adopted individuals or consanguineous
individuals.</p>

<figure><img border="0" width="605" height="239" src="HaploPainter_Version_1_files/image003.gif"/></figure>

<h4><b><u>CSV format</u></b></h4>

<table>
<tbody>
<tr>
<td><b>FAMILY</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>PERSON</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>FATHER</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>MOTHER</b></td><td>not NULL</td>
</tr>
<tr>
<td><b>GENDER</b></td><td>not NULL, 0 or x, 1 or m, 2 or f</td>
</tr>
<tr>
<td><b>AFFECTION</b></td><td>not NULL, 0 or x, 1, 2, 3, 4, 5, 6, 7, 8, 9</td>
</tr>
<tr>
<td><b>IS_DECEASED</b></td><td>NULL or 0 or n, 1 or y</td>
</tr>
<tr>
<td><b>IS_SAB_OR_TOP</b></td><td>NULL or 0 or n, 1 or y</td>
</tr>
<tr>
<td><b>IS_PROBAND</b></td><td>NULL or 0 or n, 1 or y</td>
</tr>
<tr>
<td><b>IS_ADOPTED</b></td><td>NULL or 0 or n, 1 or y</td>
</tr>
<tr>
<td><b>ARE_TWINS</b></td><td>NULL, [m or d]_text</td>
</tr>
<tr>
<td><b>ARE_CONSANGUINEOUS</span></b></td><td>NULL, text</td>
</tr>
<tr>
<td><b>TEXT_INSIDE_SYMBOL</b></td><td>NULL, char(3)</td>
</tr>
<tr>
<td><b>TEXT_BESIDE_SYMBOL</b></td><td>NULL, text</td>
</tr>
<tr>
<td><b>TEXT1_BELOW_SYMBOL</span></b></td><td>NULL, text</td>
</tr>
<tr>
<td><b>TEXT2_BELOW_SYMBOL </span></b></td><td>NULL, text</td>
</tr>
<tr>
<td><b>TEXT3_BELOW_SYMBOL</span></b></td><td>NULL, text</td>
</tr>
<tr>
<td><b>TEXT4_BELOW_SYMBOL</span></b></td><td>NULL, text</td>
</tr>
</tbody>
</table>

<p><b><i>Meaning of additional fields</i></b></p>

<p><b>IS_DECEASED</b>: Set to 1, y or Y if the individual is deceased. In that case a
diagonal line through the symbol representing that individual is drawn. This
line is spitted into two lines if text in the center of the symbol is placed</p>

<p><b>IS_SAB_OR_TOP</b>: Set to 1, y or Y if individual is the result of a spontaneous
abortion or termination of pregnancy. The individual symbol is drawn as a
triangle now. Later you can define in configurations if the gender is placed
as text below the symbol or not.</p>

<p><b>IS_PROBAND</b>: Set to 1, y or Y if the individual is declared as proband. (The
first affected family member coming to medical attention) This result in a &lsquo;P&rsquo;
sign attached to an arrow pointing to that individual.</p>

<p><b>IS_ADOPTED</b>: Set to 1, y or Y if the individual has been adopted. This
individual is drawn in brackets.</p>

<p><b>ARE_TWINS</b>: Individuals sharing the same string in this column are recognized
as twins. The first character in that string tells HaploPainter if the twins are
monozygotic &lsquo;m&rsquo; or dizygotic &lsquo;d&rsquo; followed by an underscore followed by an
unique identifier. Examples for allowed strings are: <code>m_1</code>, <code>d_gruppe1</code>. Twins are
drawn according to Bennett et al. 1995. A twin group must contain two
individuals or more.</p>

<p><b>ARE_CONSANGUINEOUS</b>: Individuals sharing the same string in this column are recognized
as consanguineous (individuals are related to each other). This only makes
sense if individuals have offspring. In that case a double line between couples
is drawn. Although HaploPainter automatically detect consanguinities, for
instance if it find loops, you additionally can define any couple as consanguineous.
This is good for situations when the real degree of consanguinity is unknown or
you want to draw more compact pedigrees. A consanguineous group must contain
two individuals. In the consanguineous menu you also can define that.</p>

<p><b>TEXT_INSIDE_SYMBOLS</b>: Place text inside symbols.</p>

<p><b>TEXT_BESIDE_SYMBOL</b>: Place text left upper hand to symbols</p>

<p><b>TEXT&lt;n&gt;_BELOW_SYMBOL</b>: HaploPainter gives you the opportunity to place text below
symbols. Per default the individual identifier is one of those text lines, but
you can attach up to four further text lines below. In the configuration menu
you can arrange the combination of columns you want to show in your pedigree (See
Ped &amp; Case Info).</p>

<h3><a name="_Toc211847769">Database</a></h3>

<p>Import of pedigree data from
data base tables is supported &ndash; to date for MySQL, PostgreSQL and Oracle. To
use this feature the proper Perl modules must be installed (Only if you run
HaploPainter from source file! HaploPainter will work without DBD modules
because they are loaded at runtime but will result in warnings). For Oracle you
also need the Oracle client, NLS_LANG and ORACLE_HOME environment variables and
an entry in the tnsnames.ora file. You reach the database connection window by
pressing F4 or via File &rarr; Import Pedigrees &hellip; &rarr; Database. For databases
that are located at your computer you also can say &lsquo;localhost&rsquo; instead of using
the host name. After you successfully are connected to the database a &ldquo;Choose
Pedigrees&rdquo; menu will appear &ndash; here is an example:</p>

<p>
<figure style="float:left"><img border="0" width="329" height="214" src="HaploPainter_Version_1_files/image004.jpg"/></figure>
<figure style="float:left"><img border="0" width="133" height="216" src="HaploPainter_Version_1_files/image005.jpg"/></figure>
</p>

<p>Inside this box all families are
listed and can be marked by use of the left mouse bottom in combination with
the shift and control (Ctrl) keys. All marked pedigrees are imported after pressing
&lsquo;Ok&rsquo;.</p>

<p>The Database Connection window
has two other functions to save the connection data as default (Save default)
and reload them (Load Default).</p>

<h2><a name="_Toc211847770">Import Haplotypes</a></h2>

<p>A haplotype describes the linear
sequence of alleles at multiple loci in the genome that are transmitted on the
same chromosome. In diploid cells a genotype is composed at two alleles. Commonly
used methods for measurement of genotypes are not able to distinguish which
allele belongs to which chromosome, but in many cases likely haplotypes can be
reconstructed through statistical methods. Haplotypes are nice instruments in
the interpretation of linkage results. They are able to map a disease causing
gene to a region in the genome. HaploPainter supports four statistical software
packages that are usual in the calculation of haplotypes: Genehunter, Allegro,
Simwalk2 and Merlin. Specific output files produced by this software can be imported
and visualized together with pedigrees. Import haplotype files via
File &rarr; Import
Haplotypes and choose the import format:</p>

<table>
<tbody>
<tr>
  <td>Genehunter</td><td>&rarr;</td><td>haplo.dump</td>
</tr>
<tr>
 <td>SimWalk2</td><td>&rarr;</td><td>HAPLO.??? (horizontal orientation)</td>
</tr>
<tr>
 <td>Merlin</td><td>&rarr;</td><td>merlin.chr (vertical orientation)</td>
</tr>
<tr>
 <td>Allegro</td><td>&rarr;</td><td>haplo.out, ihaplo.out, founder.out</td>
</tr>
</tbody>
</table>

<p>SimWalk2 controls the way it
outputs haplotype results through a batch file. In batch number #46 line 1 you
can switch between default horizontal (N) or vertical (Y) output orientation. HaploPainter
expects to keep the default value (N). Merlin also has two possible output
modes. Per default Merlin produces files with haplotypes in vertical
orientation &ndash; the format that HaploPainter supports. You control that in Merlin
over the command console parameter &lsquo;<code>--horizontal</code>&rsquo;.</p>

<p>Supplementary information enclosed
with those output files such recombination events are ignored by HaploPainter.
It uses the following rules for haplotype coloring.</p>

<ul type="disc">
 <li>Try to find
     out the first marker beginning from p-telomere from which the phase can be
     derived and then trace back the haplotype with the color from that phase up
     to the chromosomal starting point.</li>
 <li>The first
     marker showing differences is declared as the point of recombination and
     the color is changed to the recombinant haplotype until the next
     recombination event occurs.</li>
 <li>Missing
     genotypes are interpreted as uninformative.</li>
 <li>Other
     uninformative genotypes are drawn in special thin blocks when set in
     options.</li>
</ul>

<p>After you have imported haplotypes,
if you are not satisfied with the colors HaploPainter have been choosing for
you, you can press F6 to mix all colors new. The configuration menu gives you
the opportunity to manually modify colors of haplotypes or fix some colors so
that pressing F6 has no effect for those. You also can prevent markers for being
shown.</p>

<h3><a name="_Toc211847771">Some tips for interpreting
haplotypes</a></h3>

<p>Points of recombination are often
surrounded by uninformative markers. Due to the way HaploPainter deals with
analysis results it is possible that your region of interest is shown too small
or shifted. That should be checked and manually corrected! To do this, just
double click at alleles from those individuals. The menu which appears gives
you an instrument to change the phase or declare markers as uninformative. You
may find out uninformative markers if you move the mouse cursor over alleles
which became flashing in red in that case. In general you should orientate at
the results of your multipoint linkage. Also be distrustful if you see double
recombinations (two neighbored recombinations). They mostly are hints for
genotyping errors. Some software packages tend to complete haplotypes for not
genotyped individuals. You never should thrust those haplotypes &ndash; see it at as
a suggestion.</p>

<h2><a name="_Toc211847772">Import marker maps</a></h2>

<p>To replace dummy marker names which
are automatically created after import of haplotype data you need to import a
map file too. There are only two columns of interest: marker name and marker
position. These columns are expected to be at positions 2 and 3 of the input
files. The expected column separator is white space. As in LINKAGE format,
empty lines and those beginning with the signs &lsquo;<code>#</code>&rsquo;, &lsquo;<code>!</code>&rsquo;, &lsquo;<code>*</code>&rsquo; or &lsquo;<code>\</code>&rsquo; are ignored
and may be used to integrate comments or header rows. There are two options for
map files concerning the column positions:</p>

<table>
<tbody>
  <tr>
    <td>Chromosome</td><td>Marker Name</td><td>Marker Position</td><td>(CHR-POS-MARKER)</td>
  </tr>
  <tr>
    <td>Chromosome</td><td>Marker Position</td><td>Marker Name</td><td>(CHR-MARKER-POS)</td>
  </tr>
</tbody>
</table>

<p>As you can see, the only
difference is a switch between columns 2 and 3.</p>

<p>A map file can be loaded
specific for a family or for all families. This depends on the setting of the
&lsquo;Global map import&rsquo; flag in the File menu. This flag is off per default, with
other words in that case an imported map file only belongs to the current drawn
family.</p>

<h1><a name="_Toc211847773">Data Export and Publishing Tips</a></h1>

<p>Since Version 1.0 HaploPainter uses
internally Cairo, Pango and GTK+ for rendering exported graphics. If you use
the stand alone versions you don&rsquo;t need additionally programs to convert images
into other formats. Only if you plan to run HaploPainter in your own Perl
environment you have to take care about that (see installation part). Within
HaploPainter there are different formats available in <b>vector describing languages</b>
(PostScript, PDF, SVG), <b>pixel graphic</b> (to date just PNG) and <b>flat
file</b> (CSV). Keep in mind, that images produced by HaploPainter will cover
the RGB color space. If your plans are images produced for the web this doesn&rsquo;t
matter but if not you must take car of this. Some journals like to have graphic
in CMYK colors, and probably you don&rsquo;t have much experience with transformations
from RGB to CMYK. Unfortunately this is not as easy as you might think, because
you must choose the right color profile that should be used for transformation
of color spaces. It is not possible to describe every RGB color in CMYK.
Furthermore the end result and color impressions depend of the calibration of
your monitor the used paper and other printing dependent stuff. So, whenever
possible let the journal do this job for you or ask them which profiles give
the best results. In the case that you want to do it yourself you should take a
look at Adobe Acrobat and Adobe Photoshop. It also is helpfully to print the
image on a CMYK color laser printer to have a rough idea about the color
conversion effect. Many journals prefer TIFF images with embedded ICC profiles and
color resolution greater 300 dpi. Sending of images in other vector graphic
formats, which are accepted (like AI/Adobe Illustrator, EPS, PS, PDF,
CoralDRAW/CDR, FreeHand/FH) would be of advantage (at least for you) as the
layout and printer professionals could transform the drawing to the best
resolution and colors herself. Those images send by you also are much smaller
in size.</p>

<h2><a name="_Toc211847774">Vector
describing formats</a></h2>

<p>Vector images describe drawing
elements as mathematically formula. The main advantage is its scalability &ndash; you
can create every possible image resolution you want! The other advantage is you
can tailor images within common desktop publishing software.</p>

<h3><a name="_Toc211847775">SVG</a></h3>

<p><b>S</b>calable
<b>V</b>ector <b>G</b>raphics is based on XML and has been developed as open
standard from the World Wide Web Consortium (W3C) since 1999. Since that time most
modern web browsers integrated native support (Firefox, Opera, Safari, Chrome).
It seems that Adobe and Microsoft try to subvert this standard, because Adobe as
most known provider for SVG browser plug-ins loosed their interest to give further
support after buying Macromedia and Microsoft itself interferes with its own
proprietary vector format VML (which again is ignored by other browsers). How
ever, SVG is a good choice if you plan to integrate images into web pages. Probably
Microsoft&rsquo;s Internet Explorer will support SVG sometimes if the SVG diffusion
rate increases over the web. You can import SVG into a plenty of desktop
publishing software like the free available <a href="http://www.inkscape.org/">Inkscape</a>.
</p>

<h3><a name="_Toc211847776">PostScript</a></h3>

<p>Adobes PostScript is something
like a program language for printers. Most printers today are equipped with
PostScript interpreters &ndash; so you may use PostScript to deal with high quality
printer jobs. Programs like Ghostview/Ghostscript are able to view them or convert
PostScript into PDF, EPS or other graphic formats.</p>

<h3><a name="_Toc211847777">PDF</a></h3>

<p>Adobe&rsquo;s PDF is the de facto
standard for platform independent document exchange. The format is very compact
and viewers for every platform are free available &ndash; so my recommendation is to
take this format when ever possible.</p>

<h2><a name="_Toc211847778">Pixel formats</a></h2>

<h3><a name="_Toc211847779">PNG</a></h3>

<p>PNG is a good choice for
displaying pixel graphics particularly in web browsers. The format is free for
use, has better performance then GIF and even Microsoft&rsquo;s Internet Explorer
will show it &hellip;</p>


<h2><a name="_Toc211847780">Flat
file</a></h2>

<h3><a name="_Toc211847781">CSV</a></h3>

<p>Exported CSV format is identical
with the imported counterpart. So you may import files in LINKAGE format, make
your modifications within the GUI and export it as extended CSV/tab delimited
version. This also would be an easy way to produce templates for other
pedigrees.</p>

<h1><a name="_Toc211847782">Encoding and Unicode support</a></h1>

<p>Since HaploPainter Version 1.0
reading and writing files in Unicode is supported. There are a lot of Unicode
coding types, but UTF-8 and UTF-16LE seem to be the most relevant do date.
UTF-8 is the most common type and going to be the web standard. So why
UTF-16LE? The answer is Microsoft Excel. Using Excel to create CSV files ready
for import into HaploPainter is a good idea! Although most text editors would
do their job well, the handling with tables in Excel is quite comfortable. If
you plan to work with strange characters (for you they are surely not strange) you
must save data in Excels Unicode Text format and this is in fact UTF-16LE. The
encoding type setting is located inside the file menu. There are three kinds
available: ASCII, UTF-8 and UTF-16LE &ndash; the default being UTF-8.</p>

<p>May be you wondered about the
check button &ldquo;Write BOM&rdquo; available from the File menu. This is the special
Unicode character &lsquo;U+FEFF&rsquo; (byte-order mark) represented by a series of 2-4
bytes and is used as marker to indicate the encoding type. I don&rsquo;t want to
comment the actual discussion if this is good or not! HaploPainter&rsquo;s default is
to write a BOM sequence for Unicode files &ndash; and you can switch it off, if you
want! HaploPainter is able to read Unicode files which are encoded in ASCII,
UTF-8, UTF-16LE, UTF-16BE, UTF-32LE and UTF-32BE. If a BOM sequence is found
HaploPainter take care of it &ndash; whatever encoding type is preset.</p>

<h1><a name="_Toc211847783">Working with Pedigrees</a></h1>

<h2><a name="_Toc211847784">Navigation</a></h2>

<p>Once you imported the pedigrees,
haplotypes and mapping data some functions to navigate through the pedigrees
are available for instance the navigation menu.</p>

<figure><img border="0" width="177" height="32" src="HaploPainter_Version_1_files/image006.jpg"/><figcaption>The navigation menu</figcaption></figure>

<p>The arrow symbol is activated by
default. In this mode you can activate symbols ether by clicking single symbols
or clicking the mouse button while moving. This force HaploPainter to draw a
rectangle with dashed line. Every symbol inside this rectangle is activated
indicated by a change to red. Now you can move symbols around by drag and drop.
Note that you must place symbols at positions that are not occupied by other
symbols. Those symbols will not be moved! Zooming in or out the drawing is
available in different ways &ndash; via plus/minus navigation menu symbol, plus/minus
keys, Edit menu and Context menu. Use the hand symbol to shift the drawing by
clicking the mouse button to have a fix point while moving the mouse. In case
of many imported pedigrees you can change the current pedigree by clicking the
green left/right arrows (resulting in a shift of +/&minus; next one pedigree) or
alternatively use the View &rarr; Draw Pedigree menu. This menu also is able to separate from the
main menu to easy navigate through the pedigrees. Two other useful functions to
center or fit the pedigree into the current window &ndash; Center View/Fit View are
accessible from the Edit and Context menu.</p>

<p><b><i>Redrawing Pedigrees</i></b></p>

<p>Most modifications you made
during a pedigree live will be conserved until you do some of the following
things:</p>
<ul>
<li>carry out the Redraw Ped (F5) function</li>
<li>make changes in the way how loops are broken</li>
<li>make changes in the Inter symbol distance value from the Configuration/Ped Style menu</li>
<li>extending pedigrees with the GUI functions</li>
</ul>
<p>Redrawing a pedigree will force
HaploPainter to draw the pedigree according to the settings of the Options &rarr; <i>Sort by SID</i> and <i>Sort couples by gender</i> flag. If the <i>Sort couples by gender</i> flag is not set, the individuals belonging to a couple group are
assembled by chance. If the flag is set, the <b>male individuals are placed
first</b>! That&rsquo;s the only difference. The second modifier in respect of
drawing order &ndash; <i>Sort by SID</i> &ndash; reflects the handling of sibling groups. By
default the order of siblings is chosen by chance. If the flag <i>Sort by SID</i>
is set HaploPainter will change the drawing order of the members of a sibling
group and applies a special name sorting mechanism (<code>nsort</code> from the module
<code>Sort::Naturally</code>). The algorithm works in a way human normally would think about
sort and is an intelligent combination of numerically and lexically sort. By using
both flags you can HaploPainter force to draw pedigrees in a predetermined way
taking individual naming into account.</p>

<p><b><i>How to change individual settings</i></b></p>

<p>If you <i>double click at a symbol</i> the following menu will appear that allows you to change individual settings and displays some useful information.</p>

<p>
<figure style="float:left">
<img border="0" width="296" height="376" src="HaploPainter_Version_1_files/image007.jpg"/>
<figcaption>Change individual settings by double click at symbols</figcaption>
</figure>
<figure style="float:left">
<img border="0" width="271" height="335" src="HaploPainter_Version_1_files/image008.jpg">
<figcaption>Examples for symbols</figcaption>
</figure>
</p>

<table style="width:474pt">
<tbody>
 <tr>
  <td style="width:114pt">
  <p><i>Affection</i></p>
  </td>
  <td style="width:360pt">
  <p>A numerical value ranging from 0-9.
  Dependent of the settings in Options menu &rarr; Ped Color the symbol
  is filled with that color</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Male</i></p>
  </td>
  <td style="width:360pt">
  <p>Males are drawn as squares</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Female</i></p>
  </td>
  <td style="width:360pt">
  <p>Females are drawn as circles</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Unknown</i></p>
  </td>
  <td style="width:360pt">
  <p>Individuals with unknown gender are drawn
  as rotated squares</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Adopted</i></p>
  </td>
  <td style="width:360pt">
  <p>Adopted individuals are drawn with
  brackets around the symbol</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Deceased</i></p>
  </td>
  <td style="width:360pt">
  <p>Deceased individuals are drawn with a
  diagonal line through the individual. The line is divided in case of text
  inside symbols</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>TOP</i></p>
  </td>
  <td style="width:360pt">
  <p><b>T</b>ermination
  <b>o</b>f <b>p</b>regnancy and aborts are drawn as triangle symbol. The
  gender is drawn as one letter (m/f) below the symbol</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Proband</i></p>
  </td>
  <td style="width:360pt">
  <p>Attaches an arrow with the letter P left
  to symbols and is used to indicate persons that primarily came to medical
  attention</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Text inside symbol</i></p>
  </td>
  <td style="width:360pt">
  <p>Place text in the middle of symbols</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Text beside symbol</i></p>
  </td>
  <td style="width:360pt">
  <p>To put some text to the left upper corner
  of symbols</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Case Info #1</i></p>
  </td>
  <td style="width:360pt">
  <p>This is the
  individual identifier which is placed below symbols. It is not allowed to
  duplicate this name. The show check button left to this field controls the
  display for all individuals</p>
  </td>
 </tr>
 <tr>
  <td style="width:114pt">
  <p><i>Case Info #2-5</i></p>
  </td>
  <td style="width:360pt">
  <p>You may put further information text
  lines below symbols by using these fields. The show check button left to this
  field again controls the display for all individuals. You can fine tune the
  settings for Case Info from the Options menu &rarr; Ped &amp; Case Info</p>
  </td>
 </tr>
</tbody>
</table>

<h2><a name="_Toc211847785">Building and extending pedigrees
with the graphical user interface</a></h2>

<p>The functions to create new or
modify existing pedigrees are available from the Edit menu or from the mouse
Context menu (here exemplary shown).</p>

<figure><img border="0" width="199" height="298" src="HaploPainter_Version_1_files/image009.jpg"/><figcaption>The Context menu</figcaption></figure>

<h3><a name="_Toc211847786">New Pedigrees</a></h3>

<p>To create a new pedigree you
also can press the key combination &ldquo;Ctrl+N&rdquo;. A window will appear that asks
for a pedigree name. After saying &ldquo;Ok&rdquo; HaploPainter draws a core family
consisting of a couple and one offspring with preformed individual identifiers.
To change the identifiers, gender or other individual settings double click at
the respective symbol.</p>

<h3><a name="_Toc211847787">Delete Individuals</a></h3>

<p>To delete individuals mark one
or more symbols and chose the &ldquo;Delete Individuals&rdquo; function. You also can do
this by pressing the keys &ldquo;Ctrl+D&rdquo; or &ldquo;Del&rdquo;. Remaining childless founders will
be automatically deleted too!</p>

<h3><a name="_Toc211847788">Add Siblings</a></h3>

<p>To add one or up to 8 siblings
to another one mark one individual and execute the &ldquo;Add Sibling&rdquo; function. A window
will appear that asks for sibling identifiers and gender. After saying &ldquo;Ok
HaploPainter attaches all siblings for which you entered a valid identifier to
the pedigree. To change the identifiers, gender or other individual settings
double click at the respective symbol.</p>

<h3><a name="_Toc211847789">Add Parents</a></h3>

<p>Parents can be added only to
founder individuals. Mark the founder and execute the &ldquo;Add Parents&rdquo; function.
A window will appear that asks for the mother and father identifiers. After
saying &ldquo;Ok&rdquo; HaploPainter attaches a new founder couple to the pedigree. To
change the identifiers or other individual settings double click at the
respective symbol.</p>

<h3><a name="_Toc211847790">Add Mate &amp; Offspring</a></h3>

<p>You can attach a new mate and
offspring to any individual. Mark one individual and execute the &ldquo;Add Mate
&amp; Offspring&rdquo; function. A window will appear that asks for the mate and
offspring identifiers. After saying &ldquo;Ok&rdquo; HaploPainter attaches a new founder (only
if that mate not already exists) and a new offspring with unknown gender to the
pedigree. To change the identifiers, gender or other individual settings double
click at the respective symbol.</p>

<h3><a name="_Toc211847791">Consanguinity Settings</a></h3>

<p>Consanguineous individuals are
automatically detected if the pedigree consists of the according loop
structure. How ever, you can declare any couple as consanguineous too. The function
to change consanguineous for all couples at once can be achieved from the
Options and Context menu &rarr; Consanguinity Settings. A new window displaying all couples will
appear. Here you can mark any combination of entries, preview the changes and
permanently change the new setting by pressing &ldquo;Ok&rdquo;.</p>

<figure><img border="0" width="299" height="344" src="HaploPainter_Version_1_files/image010.jpg"/><figcaption>Consanguinity Setting menu</figcaption></figure>

<p>The other way to quickly change
the setting is to mark the two symbols of one couple and choose &ldquo;Set/Unset Consanguinity
from the context menu or Edit menu.</p>

<h3><a name="_Toc211847792">Twin Setting</a></h3>

<p>To declare/undeclare two or more
individuals as twins mark the symbols of a sibling group and choose &ldquo;Set/Unset
Twins&rdquo; from the context menu or Edit menu. A new submenu gives you the
opportunity to mark twins either to be monozygotic or dizygotic. The
differences are shown in the following figure where the individuals 3+4 and
5+6+7 are declared as monozygotic twins and the other twin groups as dizygotic.</p>

<figure><img border="0" width="604" height="150" src="HaploPainter_Version_1_files/image011.gif"/></figure>

<p>In the example above the &ldquo;<b>Inter
siblings Y distance</b>&rdquo; parameter from the Configuration &rarr; Ped Style
menu was increased to a value of 45 to better separate the twin groups from the
horizontal sibling connecting line. This value is set per default to a lower
value to have more space for haplotypes and case information.</p>

<h3><a name="_Toc211847793"></a>Loop breaking</h3>

<p>In respect of finding a good
drawing solution, loops are the major challenge! Breaking a loop can be the only
way to draw the pedigree without line crosses. Loops are broken by a
duplication of an individual that is located and the &ldquo;end&rdquo; node of a loop.</p>

<p>
<figure style="float:left"><img width="192" height="190" src="HaploPainter_Version_1_files/image012.gif"/></figure>
Due to HaploPainter&rsquo;s internal algorithms some loops are always
broken, for instance the pedigree on the left that belongs to the category parent-offspring
mate situation.</p>

<p>
<figure style="float:left"><img width="136" height="186" src="HaploPainter_Version_1_files/image013.gif"/></figure>
On the other hand there are situations when breaking of loops makes
no sense &ndash; like the offspring mating situation shown on the left. Those
unproblematic loops would not lead to line crosses and therefore will never be broken
or selectable for breaking.</p>

<p>As more loops a pedigree
consists as more time it takes to find a good drawing solution. For this reason
HaploPainter breaks loops automatically when it finds more then 3 of them.
Later you can decide which loops should be broken or not. To select them there
is a &ldquo;Breaking loops &hellip;&rdquo; window, available from the Options or Context menu. The
following figures show the test pedigree hp_19 which consists of 3 loops. After
you followed the &ldquo;Breaking loops &hellip;&rdquo; function a new window appears that gives
you the possibilities to choose either select breaking no loops, all loops or
to manually select loops for breaking. Here it was selected to manually break
the loop ending with the individuals 8==9.</p>

<p>
<figure style="float:left">
<img border="0" width="349" height="257" src="HaploPainter_Version_1_files/image014.jpg"/>
<figcaption>Loop breaking selection window</figcaption>
</figure>
<figure style="float:left">
<img border="0" width="222" height="245" src="HaploPainter_Version_1_files/image015.gif"/>
<figcaption>Result of breaking the loop: 8==9</figcaption>
</figure>
</p>

<h3><a name="_Toc211847794">Clear families</a></h3>

<p>There are two functions to completely
remove the current drawn (&lsquo;Clear current&rsquo;) and all families
(&lsquo;Clear all&rsquo;) from
HaploPainter. They are available from the File menu.</p>

<h1><a name="_Toc211847795">The configuration menu</a></h1>

<p>The configuration menu is the
most important place to modify the way haplotypes are drawn and the drawing
style of pedigrees. To illustrate the effects of all parameters would be a hard
job! A practicable way to find out what a parameter really does would be to
change one parameter and <b>press the preview button to see what happens!</b> You
start the menu either from the Options or Context menu. The configuration menu
consists of 7 tabs.</p>

<p><b>IMPORTANT</b>: any changes in the settings will only affect the currently drawn
pedigree!</p>

<h2><a name="_Toc211847796">Hap Style</a></h2>

<p>The settings in this menu will
mainly affect the haplotype drawing style. Parameters collected there have
quantitative values and are changed via scroll bars.</p>

<figure style="float:left"><img border="0" width="534" height="433" src="HaploPainter_Version_1_files/image016.jpg"/></figure>

<table style="width:474pt">
<tbody>
 <tr>
  <td style="width:159pt">
  <p>Bar width</p>
  </td>
  <td style="width:315pt">
  <p>Size of haplotype bars in X-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Bar width uninformative</p>
  </td>
  <td style="width:315pt">
  <p>Size of bars from uninformative alleles in X-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Space between bars</p>
  </td>
  <td style="width:315pt">
  <p>Space between maternal and paternal
  haplotype from one person</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Line width</p>
  </td>
  <td style="width:315pt">
  <p>Bar border line width, makes sense
  without &lsquo;fill out bars&rsquo; option</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Legend distance left</p>
  </td>
  <td style="width:315pt">
  <p>Distance between left marker legend and
  pedigree</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Allele distance</p>
  </td>
  <td style="width:315pt">
  <p>Space between alleles in Y-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Marker position distance</p>
  </td>
  <td style="width:315pt">
  <p>Distance between left marker legend and
  pedigree</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Allele position distance</p>
  </td>
  <td style="width:315pt">
  <p>Distance between alleles and bars in X-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Width of bounding box</p>
  </td>
  <td style="width:315pt">
  <p>Effects bounding boxes of marked
  haplotype blocks</p>
  </td>
 </tr>
 <tr>
  <td style="width:159pt">
  <p>Legend distance right</p>
  </td>
  <td style="width:315pt">
  <p>Distance between right marker legend and
  pedigree</p>
  </td>
 </tr>
</tbody>
</table>

<h2><a name="_Toc211847797">Hap Show</a></h2>

<p>The settings in this menu also
will mainly affect the haplotype and legend drawing style. Parameters collected
here have qualitative aspects and are changed via check buttons.</p>

<figure style="float:left"><img border="0" width="534" height="433" src="HaploPainter_Version_1_files/image017.jpg"/></figure>

<table>
<tbody>
  <tr>
  <td>
  <p>Show alleles</p>
  </td>
  <td>
  <p>Set if allele numbers are shown</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show Bars</p>
  </td>
  <td>
  <p>Set if haplotype bars are shown</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show marker positions</p>
  </td>
  <td>
  <p>Show marker coordinates on the left side
  of each generation</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show marker names</p>
  </td>
  <td>
  <p>Show marker names on the left side of
  each generation</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show question mark</p>
  </td>
  <td>
  <p>Show question mark inside person symbols
  for unknown affection status</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Fill out bars</p>
  </td>
  <td>
  <p>Fill out bars at given color</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show completely lost Haplotypes</p>
  </td>
  <td>
  <p>Mark haplotypes without information</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show other lost genotypes</p>
  </td>
  <td>
  <p>Mark unique lost genotypes</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show user defined non-informative</p>
  </td>
  <td>
  <p>Mark manually, as not informative
  declared genotypes</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show other non-informative</p>
  </td>
  <td>
  <p>Mark genotyped but uninformative
  genotypes</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Draw each allele as separate bar</p>
  </td>
  <td>
  <p>Good idea only when &lsquo;Fill out bars&rsquo;
  option is not set</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show legend left</p>
  </td>
  <td>
  <p>Show the left haplotype marker legend</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>Show legend right</p>
  </td>
  <td>
  <p>Show the right haplotype marker legend</p>
  </td>
 </tr>
</tbody>
</table>

<h2><a name="_Toc211847798">Hap Color &amp; Font</a></h2>

<p>In this menu you can change the
colors and font attributes of different types of information content like
alleles from haplotypes, case information, pedigree header or phase unknown
color. If you want to show all haplotypes, except of one in a unique color,
press the &lsquo;Color of all haplotypes&rsquo; button. Before you do so, you should anchor
one or more haplotypes of course! To do that chose the founder from where the
haplotype derives in the browse entry box and activate &lsquo;Anchor
paternal/maternal haplotype&rsquo; in the check button. You also can fade out haplotypes
by activation of &lsquo;Hide paternal/maternal&rsquo; check buttons.</p>

<figure style="float:left"><img border="0" width="408" height="331" src="HaploPainter_Version_1_files/image018.jpg"/></figure>
<figure style="float:left"><img border="0" width="176" height="159" src="HaploPainter_Version_1_files/image019.jpg"/></figure>

<h2><a name="_Toc211847799">Hap Region</a></h2>

<p>The list box on the left side
shows marker positions and names. Only red marked markers will be shown. To
select/unselect multiple markers keep Ctrl key pressed while clicking with
the left mouse button over rows. Press &ldquo;Ctrl+A&rdquo; to select all markers.</p>

<p>The list box on the right side
allows drawing of black unfilled boxes around markers. You can define as many
boxes as you want for any individual which has to be selected with the browse
entry field above.</p>

<figure><img border="0" width="534" height="433" src="HaploPainter_Version_1_files/image020.jpg"/></figure>

<h2><a name="_Toc211847800">Ped Style</a></h2>

<p>The settings in this menu will
mainly affect the pedigree drawing style. Parameters collected there have
quantitative values and are changed via scroll bars.</p>

<figure style="float:left"><img border="0" width="534" height="433" src="HaploPainter_Version_1_files/image021.jpg"/></figure>

<table style="width:474pt">
<tbody>
  <tr>
  <td style="width:154pt">
  <p>Cross factor</p>
  </td>
  <td style="width:320pt">
  <p>Affects the lines connecting parents with
  their offspring group</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Deceased line length</p>
  </td>
  <td style="width:320pt">
  <p>Size of the diagonal line indicating that
  individual is deceased</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Grid X space</p>
  </td>
  <td style="width:320pt">
  <p>Width of grid raster in X-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Grid Y space</p>
  </td>
  <td style="width:320pt">
  <p>Width of grid raster in Y-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Consanguinity line distance</p>
  </td>
  <td style="width:320pt">
  <p>Distance between the two lines indicating
  that individuals are consanguineous</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Intersib Y distance</p>
  </td>
  <td style="width:320pt">
  <p>Affects the lines connecting members of an
  offspring group with each other</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Symbol size</p>
  </td>
  <td style="width:320pt">
  <p>Symbol size</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Symbol outer line width</p>
  </td>
  <td style="width:320pt">
  <p>Width of the outer line of symbols if it
  is shown</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Line width</p>
  </td>
  <td style="width:320pt">
  <p>Width of symbols connecting lines</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Inter symbol distance</p>
  </td>
  <td style="width:320pt">
  <p>Number of grid units that are placed
  between symbols in X-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Intergeneration distance</p>
  </td>
  <td style="width:320pt">
  <p>Number of grid units that are placed
  between symbols in Y-dimension</p>
  </td>
 </tr>
 <tr>
  <td style="width:154pt">
  <p>Haplo extra space</p>
  </td>
  <td style="width:320pt">
  <p>Fine tune the length of haplotype bars.
  It only works for haplotypes that are drawn without alleles and legends when
  bars are compressed/elongated to the available space according to the inter
  generation distance</p>
  </td>
 </tr>
</tbody>
</table>

<h2><a name="_Toc211847801">Ped Color</a></h2>

<p>The Ped Color submenu allows
changes for the most color relevant parameters.</p>

<figure style="float:left"><img border="0" width="534" height="433" src="HaploPainter_Version_1_files/image022.jpg"/></figure>

<table style="width:474pt">
<tbody>
  <tr>
  <td style="width:136pt">
  <p>Affection
  colors #0-9</p>
  </td>
  <td style="width:338pt">
  <p>Symbols are
  filled with colors according to their affection status value ranging from 0-9</p>
  </td>
 </tr>
 <tr>
  <td style="width:136pt">
  <p>Line color</p>
  </td>
  <td style="width:338pt">
  <p>The color of
  lines that connect symbols with each other</p>
  </td>
 </tr>
 <tr>
  <td style="width:136pt">
  <p>Symbol line color</p>
  </td>
  <td style="width:338pt">
  <p>The color of
  outer lines of symbols. The check box &ldquo;Set for affected&rdquo; right hand of the
  button controls if this line is visible for individuals with affection status
  other then 1</p>
  </td>
 </tr>
 <tr>
  <td style="width:136pt">
  <p>Proband arrow
  color</p>
  </td>
  <td style="width:338pt">
  <p>The color of
  the proband arrow</p>
  </td>
 </tr>
 <tr>
  <td style="width:136pt">
  <p>Background
  color</p>
  </td>
  <td style="width:338pt">
  <p>Set the
  background color. It is only exported into other graphic formats if the
  Export background checkbox flag is switched on.</p>
  </td>
 </tr>
</tbody>
</table>

<h2><a name="_Toc211847802">Ped &amp; Case Info</a></h2>

<p>In this menu there are settings
for the title and case information. The rows from case 1-5 are shown below
symbols if the check button is switched on. Furthermore you can choose in which
order the fields are drawn.</p>

<figure><img border="0" width="534" height="433" src="HaploPainter_Version_1_files/image023.jpg"/></figure>

<h1><a name="_Toc211847803">Page settings</a></h1>

<p>The page settings are mostly
relevant for exporting pedigrees as images. The graphic resolution is very
important for the pixel formats PNG. For vector graphic formats this parameter
is handled in different ways. SVG graphics uses it to define the scaling factor
to which the graphic should be expanded. PostScript has a default resolution of
72dpi. HaploPainter tries to extend the pedigrees according to the Margin,
Paper Size and Paper Orientation settings. This may not be what you want and
cutting the image with other software is necessary.</p>

<figure><img border="0" width="307" height="265" src="HaploPainter_Version_1_files/image024.jpg"/></figure>

<h1><a name="_Toc211847804">Show Grid</a></h1>

<p>The grid is visible only in the
graphical user interface. It never is exported into images! The grid (visible
or not) is internally used as an anchor point for the positioning of symbols.
The configuration parameters Grid X space and Grid Y space affect the size of
it.</p>

<p>You can switch it on/off by the
check button from the File menu or Context menu.</p>

<h1><a name="_Toc211847805">Storing and Restoring defaults</a></h1>

<p>There is no special file format
for storing of your favorite default parameters &ndash; instead HaploPainter is able
to extract drawing style features from every regularly stored file in
HAPLOPAINTER format! One way to go is to prepare a HAPLOPAINTER file with some
small families and modify/store them. Now you can attach the default parameters
from a certain family from that file to others by choosing the Open default
function from the File menu.</p>

<figure><img border="0" width="338" height="98" src="HaploPainter_Version_1_files/image025.jpg"></figure>

<p>A window will appear asking you
for a family and if you want to import the parameters from that family only to
the current drawn family or to all families.</p>

<h1><a name="_Toc211847806">Command line mode</a></h1>

<p>HaploPainter can be executed in
a command line mode without usage of the graphical interface. The first argument
must be <code>-b</code> to tell HaploPainter being in command line (<b>b</b>atch) mode
or <code>-h</code> to output a list of supported parameters.</p>

<p>All following parameters have to
be in a key &ndash; value manner. Allowed keys, their meaning and allowed values
illustrates the following table.</p>

<table style="width:474pt">
<tbody>
  <tr>
  <td style="width:108pt">
  <p><code>-pedfile</code></p>
  </td>
  <td style="width:366pt">
  <p>Name of the imported pedigree file in ASCII or UTF-8
  format</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-pedformat</code></p>
  </td>
  <td style="width:366pt">
  <p>Format of the imported pedigree file <code>[linkage, csv]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-outfile</code></p>
  </td>
  <td style="width:366pt">
  <p>Name of the exported file</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-outformat</code></p>
  </td>
  <td style="width:366pt">
  <p>Format of the exported file <code>[ps, pdf, svg, png]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-hapfile</code></p>
  </td>
  <td style="width:366pt">
  <p>Name of the imported haplotype file</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-hapformat</code></p>
  </td>
  <td style="width:366pt">
  <p>Format of the imported haplotype file<br>
  <code>[allegro, genehunter, merlin, simwalk]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-mapfile</code></p>
  </td>
  <td style="width:366pt">
  <p>Name of the imported map file</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-mapformat</code></p>
  </td>
  <td style="width:366pt">
  <p>Format of the imported map file <code>[1, 2]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-family</code></p>
  </td>
  <td style="width:366pt">
  <p>Name of one family identifier from the pedigree file</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-resolution</code></p>
  </td>
  <td style="width:366pt">
  <p>Image resolution in pixels (max 4800)</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-paper</code></p>
  </td>
  <td style="width:366pt">
  <p>Paper format <code>[A0-A5, B4, B5, Letter, Ledger, Legal, 11x17]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-orientation</code></p>
  </td>
  <td style="width:366pt">
  <p>Paper orientation <code>[landscape, portrait]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-border</code></p>
  </td>
  <td style="width:366pt">
  <p>Margin around the image in pixels (max 999)</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-bgcolor</code></p>
  </td>
  <td style="width:366pt">
  <p>Background color in hex notation (e.g. #ffcc00)</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbtype</code></p>
  </td>
  <td style="width:366pt">
  <p>Database type <code>[oracle, postgresql, mysql]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbport</code></p>
  </td>
  <td style="width:366pt">
  <p>Database port</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbsid</code></p>
  </td>
  <td style="width:366pt">
  <p>Database Name/SID</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbhost</code></p>
  </td>
  <td style="width:366pt">
  <p>Database server host name (localhost is valid)</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbtable</code></p>
  </td>
  <td style="width:366pt">
  <p>Database Table/Relation Name</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbuname</code></p>
  </td>
  <td style="width:366pt">
  <p>Database user/login name</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-dbpasswd</code></p>
  </td>
  <td style="width:366pt">
  <p>Database password</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-breakloop</code></p>
  </td>
  <td style="width:366pt">
  <p>Controls loop breaking <code>[0=No loop break, 2=Break all loops]</code></p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-sortbyid</code></p>
  </td>
  <td style="width:366pt">
  <p>Drawing order of individuals is sorted by ID</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-sortbygender</code></p>
  </td>
  <td style="width:366pt">
  <p>Drawing order of couples is sorted by gender</p>
  </td>
 </tr>
 <tr>
  <td style="width:108pt">
  <p><code>-h</code></p>
  </td>
  <td style="width:366pt">
  <p>Displaying a list of supported parameters</p>
  </td>
 </tr>
</tbody>
</table>
			</div>
			<div id="footer">
				<table>
					<tr>
						<td></td>
						<td>September 2008 &copy;</td>
						<td><div align="right"><a href="http://sourceforge.net" target="_blank"><img src="http://sourceforge.net/sflogo.php?group_id=111945&amp;type=3" width="95" height="20"/></a></div></td>
					</tr>
				</table>
			</div>
</body>
</html>
